!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fortawesome/fontawesome-svg-core"),require("@fortawesome/free-solid-svg-icons/faSearch"),require("@fortawesome/vue-fontawesome"),require("bootstrap-vue/es/components/alert/alert"),require("vue-property-decorator"),require("axios")):"function"==typeof define&&define.amd?define(["exports","@fortawesome/fontawesome-svg-core","@fortawesome/free-solid-svg-icons/faSearch","@fortawesome/vue-fontawesome","bootstrap-vue/es/components/alert/alert","vue-property-decorator","axios"],t):t((e=e||self)["buscador-cvu"]={},e.fontawesomeSvgCore,e.faSearch,e.vueFontawesome,e.bAlert,e.vuePropertyDecorator,e.axios)}(this,function(e,t,r,n,o,i,s){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o,s=s&&s.hasOwnProperty("default")?s.default:s;var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}var f=function(){function e(e){this.baseApiUrl=e||"services/cvu/api"}return e.prototype.retrieveByCvu=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/cvu/"+e).then(function(e){r(e.data)}).catch(function(e){n(e)})})},e.prototype.retrieveByRcea=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/rcea/"+e).then(function(e){r(e.data)}).catch(function(e){return n(e)})})},e.prototype.retrieveByReniecyt=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/reniecyt/"+e).then(function(e){r(e.data)}).catch(function(e){n(e)})})},e.prototype.retrieveByLogin=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/personas/"+e).then(function(e){r(e.data)}).catch(function(e){return n(e)})})},e}();t.library.add(r.faSearch);var p=new(function(){return function(e){this.host=e}}()),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dismissCountDown=0,t.alertType="",t.alertMessage="",t.searchKey="",t.isSearching=!1,t}return function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.$CVU_SEARCHER_DEFAULT_OPTIONS||p},enumerable:!0,configurable:!0}),t.prototype.buscar=function(){var e=this;this.searchKey&&(this.isSearching=!0,new f(this.options.host).retrieveByCvu(this.searchKey).then(function(t){e.$emit("input",t),e.searchKey="",e.isSearching=!1}).catch(function(){e.alertType="warning",e.alertMessage="No se encontró a la persona con cvu "+e.searchKey,e.dismissCountDown=5,e.isSearching=!1}))},u([i.Prop()],t.prototype,"value",void 0),t=u([i.Component({components:{"font-awesome-icon":n.FontAwesomeIcon,"b-alert":o}})],t)}(i.Vue);var l,d,h,m,y,b=(l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group mb-5"},[r("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.alertType},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":function(t){e.dismissCountDown=t}}},[e._v(e._s(e.alertMessage))]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.buscar()}}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchKey,expression:"searchKey",modifiers:{trim:!0}}],attrs:{id:"cvu-search",name:"cvu-search"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("span",[e._v(" ")]),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"cvu-search-button",disabled:e.isSearching}},[r("font-awesome-icon",{attrs:{icon:"search"}}),e._v(" \n      "),e.isSearching?r("span",[e._v("Buscando...")]):r("span",[e._v("Buscar")])],1)])],1)},staticRenderFns:[]},h=void 0,m=!1,(y=("function"==typeof(d=v)?d.options:d)||{}).__file="buscador-cvu.vue",y.render||(y.render=l.render,y.staticRenderFns=l.staticRenderFns,y._compiled=!0,m&&(y.functional=!0)),y._scopeId=h,y),w={install:function(e,t){var r=c(c({},p),t);e.prototype.$CVU_SEARCHER_DEFAULT_OPTIONS=r,e.component("buscador-cvu",b)}};e.BuscadorCvuComponent=b,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
